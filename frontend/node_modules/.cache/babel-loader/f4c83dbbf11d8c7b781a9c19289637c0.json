{"ast":null,"code":"import _slicedToArray from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Form,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{UserDetail,updateUser}from'../store/actions/user';import FormContainer from'../components/formcontainer';import{USER_UPDATE_ADMIN_REST}from'../store/actions/actionTypes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserEditScreen=function UserEditScreen(_ref){var match=_ref.match,history=_ref.history;var userId=match.params.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAdmin=_useState6[0],setIsAdmin=_useState6[1];var dispatch=useDispatch();var userDetaill=useSelector(function(state){return state.user;});var loading=userDetaill.loading,userDetail=userDetaill.userDetail,error=userDetaill.error;var userUpdate=useSelector(function(state){return state.user;});var loadingUpdate=userUpdate.loading,errorUpdate=userUpdate.error,success=userUpdate.success;useEffect(function(){if(success){dispatch({type:USER_UPDATE_ADMIN_REST});history.push('/admin/userlist');}else{if(!userDetail.name||userDetail._id!==userId){dispatch(UserDetail(userId));}else{setName(userDetail.name);setEmail(userDetail.email);setIsAdmin(userDetail.isAdmin);}}},[dispatch,history,userId,userDetail,success]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateUser({_id:userId,name:name,email:email,isAdmin:isAdmin}));};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/userlist\",className:\"btn btn-light my-3\",children:\"Go Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Edit User\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"isadmin\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",lable:\"Is Admin\",checked:isAdmin,onChange:function onChange(e){return setIsAdmin(e.target.checked);}})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Update\"})]}),/*#__PURE__*/_jsx(FormContainer,{})]});};export default UserEditScreen;","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userEditScrean.js"],"names":["React","useState","useEffect","Link","Form","Button","useDispatch","useSelector","Loader","Message","UserDetail","updateUser","FormContainer","USER_UPDATE_ADMIN_REST","UserEditScreen","match","history","userId","params","id","name","setName","email","setEmail","isAdmin","setIsAdmin","dispatch","userDetaill","state","user","loading","userDetail","error","userUpdate","loadingUpdate","errorUpdate","success","type","push","_id","submitHandler","e","preventDefault","target","value","checked"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Form, Button} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport {UserDetail, updateUser} from '../store/actions/user'\nimport FormContainer from '../components/formcontainer'\nimport {USER_UPDATE_ADMIN_REST} from '../store/actions/actionTypes'\n\nconst UserEditScreen = ({match, history}) => {\n\n    const userId = match.params.id\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [isAdmin, setIsAdmin] = useState(false)\n\n\n\n    const dispatch = useDispatch()\n\n    const userDetaill = useSelector(state => state.user)\n    const {loading, userDetail, error} = userDetaill\n\n\n    const userUpdate = useSelector(state => state.user)\n    const {loading:loadingUpdate, error:errorUpdate, success} = userUpdate\n\n    useEffect(() => {\n\n        if(success) {\n            dispatch({type:USER_UPDATE_ADMIN_REST })\n            history.push('/admin/userlist')\n        }else {\n            if(!userDetail.name ||userDetail._id !== userId) {\n                dispatch(UserDetail(userId))\n            }else {\n                setName(userDetail.name)\n                setEmail(userDetail.email)\n                setIsAdmin(userDetail.isAdmin)\n            }\n        }\n\n       \n        \n\n    }, [dispatch, history ,userId ,userDetail, success ])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        dispatch(updateUser({\n            _id:userId,\n            name,email,isAdmin\n        }))\n\n \n    }\n\n\n    return (\n\n        <React.Fragment>\n            <Link to='/admin/userlist'  className=\"btn btn-light my-3\">Go Back</Link>\n        \n        \n        <h1>Edit User</h1>\n        {loading ? <Loader />: error ? <Message variant=\"danger\">{error}</Message>:\n        (\n            <Form onSubmit={submitHandler}>\n\n            <Form.Group controlId=\"name\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control\n                     type=\"name\"\n                      placeholder=\"Enter name\"\n                      value={name}\n                    onChange={(e)=> setName(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n    \n                <Form.Group controlId=\"email\">\n                    <Form.Label>Email Address</Form.Label>\n                    <Form.Control\n                     type=\"email\"\n                      placeholder=\"Enter email\"\n                      value={email}\n                    onChange={(e)=> setEmail(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n                <Form.Group controlId=\"isadmin\">\n                \n                    <Form.Check\n                     type=\"checkbox\"\n                      lable=\"Is Admin\"\n                      \n                      checked={isAdmin}\n                    onChange={(e)=> setIsAdmin(e.target.checked) }>\n    \n                    </Form.Check>\n                </Form.Group>\n    \n                <Button type=\"submit\" variant=\"primary\">\n                    Update\n                </Button>\n    \n    \n            </Form>\n    \n        )\n        }\n       \n\n       <FormContainer/>\n        </React.Fragment>\n       \n       \n            \n\n    )\n}\n\nexport default UserEditScreen"]},"metadata":{},"sourceType":"module"}