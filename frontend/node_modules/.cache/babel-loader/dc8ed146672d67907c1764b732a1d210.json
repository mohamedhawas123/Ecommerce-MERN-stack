{"ast":null,"code":"import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../utilty';\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\nconsole.log(localStorage);\nconst shippingAddressFromStorage = localStorage.getItem(\"shippingAddress\") ? JSON.parse(localStorage.getItem(\"shippingAddress\")) : {};\nconsole.log(localStorage);\nconst initalState = {\n  cartItems: [],\n  shippingAddress: {\n    address: \"fsdf\",\n    city: \"dfs\",\n    postelCode: \"sdfsd\",\n    country: \"sdfs\"\n  },\n  cart: {\n    cartItems: cartItemsFromStorage,\n    shippingAddress: shippingAddressFromStorage\n  }\n};\n\nconst addToCart = (state, action) => {\n  const item = action.item;\n  console.log(action);\n  const existItem = state.cartItems.find(x => x.product === item._id);\n\n  if (existItem) {\n    return { ...state,\n      cartItems: state.cartItems.map(e => e.product === existItem._id ? item : e)\n    };\n  } else {\n    return { ...state,\n      cartItems: [...state.cartItems, item]\n    };\n  }\n};\n\nconst removeFromCart = (state, action) => {\n  return { ...state,\n    cartItems: state.cartItems.filter(e => e.product !== action.payload)\n  };\n};\n\nconst saveShippingAddress = (state, action) => {\n  return { ...state,\n    shippingAddress: action.payload\n  };\n};\n\nconst reducer = (state = initalState, action) => {\n  switch (action.type) {\n    case actionTypes.CART_ADD_ITEM:\n      return addToCart(state, action);\n\n    case actionTypes.CART_REMOVE_ITEM:\n      return removeFromCart(state, action);\n\n    case actionTypes.CART_SAVE_SHAPPING_ADDRESS:\n      return saveShippingAddress(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/store/reducer/cart.js"],"names":["actionTypes","updateObject","cartItemsFromStorage","localStorage","getItem","JSON","parse","console","log","shippingAddressFromStorage","initalState","cartItems","shippingAddress","address","city","postelCode","country","cart","addToCart","state","action","item","existItem","find","x","product","_id","map","e","removeFromCart","filter","payload","saveShippingAddress","reducer","type","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHAPPING_ADDRESS"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AACA,SAAQC,YAAR,QAA2B,WAA3B;AAGA,MAAMC,oBAAoB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAqCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAArC,GAAoF,EAAjH;AACAG,OAAO,CAACC,GAAR,CAAYL,YAAZ;AAGA,MAAMM,0BAA0B,GAAGN,YAAY,CAACC,OAAb,CAAqB,iBAArB,IAA2CC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAA3C,GAAgG,EAAnI;AACAG,OAAO,CAACC,GAAR,CAAYL,YAAZ;AAEA,MAAMO,WAAW,GAAG;AAChBC,EAAAA,SAAS,EAAG,EADI;AAEhBC,EAAAA,eAAe,EAAE;AACbC,IAAAA,OAAO,EAAE,MADI;AAEbC,IAAAA,IAAI,EAAE,KAFO;AAGbC,IAAAA,UAAU,EAAE,OAHC;AAIbC,IAAAA,OAAO,EAAE;AAJI,GAFD;AAQhBC,EAAAA,IAAI,EAAE;AAACN,IAAAA,SAAS,EAAET,oBAAZ;AAAkCU,IAAAA,eAAe,EAACH;AAAlD;AARU,CAApB;;AAaA,MAAMS,SAAS,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,QAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYY,MAAZ;AACA,QAAME,SAAS,GAAGH,KAAK,CAACR,SAAN,CAAgBY,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcJ,IAAI,CAACK,GAA7C,CAAlB;;AAEA,MAAGJ,SAAH,EAAc;AACV,WAAO,EACH,GAAGH,KADA;AAEHR,MAAAA,SAAS,EAAEQ,KAAK,CAACR,SAAN,CAAgBgB,GAAhB,CAAoBC,CAAC,IAAIA,CAAC,CAACH,OAAF,KAAcH,SAAS,CAACI,GAAxB,GAA8BL,IAA9B,GAAoCO,CAA7D;AAFR,KAAP;AAKH,GAND,MAMM;AACF,WAAO,EACH,GAAGT,KADA;AAEHR,MAAAA,SAAS,EAAC,CAAC,GAAGQ,KAAK,CAACR,SAAV,EAAqBU,IAArB;AAFP,KAAP;AAIH;AACJ,CAjBD;;AAoBA,MAAMQ,cAAc,GAAG,CAACV,KAAD,EAAOC,MAAP,KAAkB;AACrC,SAAO,EACH,GAAGD,KADA;AAEHR,IAAAA,SAAS,EAAEQ,KAAK,CAACR,SAAN,CAAgBmB,MAAhB,CAAuBF,CAAC,IAAIA,CAAC,CAACH,OAAF,KAAcL,MAAM,CAACW,OAAjD;AAFR,GAAP;AAIH,CALD;;AAQA,MAAMC,mBAAmB,GAAG,CAACb,KAAD,EAAOC,MAAP,KAAkB;AAC1C,SAAO,EACH,GAAGD,KADA;AAEHP,IAAAA,eAAe,EAAEQ,MAAM,CAACW;AAFrB,GAAP;AAIH,CALD;;AAYA,MAAME,OAAO,GAAG,CAACd,KAAK,GAACT,WAAP,EAAoBU,MAApB,KAA+B;AAC3C,UAAOA,MAAM,CAACc,IAAd;AACI,SAAKlC,WAAW,CAACmC,aAAjB;AAAgC,aAAOjB,SAAS,CAACC,KAAD,EAAQC,MAAR,CAAhB;;AAChC,SAAKpB,WAAW,CAACoC,gBAAjB;AAAmC,aAAOP,cAAc,CAACV,KAAD,EAAQC,MAAR,CAArB;;AACnC,SAAKpB,WAAW,CAACqC,0BAAjB;AAA6C,aAAOL,mBAAmB,CAACb,KAAD,EAAQC,MAAR,CAA1B;;AAC7C;AACI,aAAOD,KAAP;AALR;AAOH,CARD;;AAUA,eAAec,OAAf","sourcesContent":["import * as actionTypes from '../actions/actionTypes'\nimport {updateObject} from '../utilty'\n\n\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\")  ? JSON.parse(localStorage.getItem(\"cartItems\")): [] \nconsole.log(localStorage)\n\n\nconst shippingAddressFromStorage = localStorage.getItem(\"shippingAddress\")  ? JSON.parse(localStorage.getItem(\"shippingAddress\")): {} \nconsole.log(localStorage)\n\nconst initalState = {\n    cartItems : [],\n    shippingAddress: {\n        address: \"fsdf\",\n        city: \"dfs\",\n        postelCode: \"sdfsd\",\n        country: \"sdfs\"\n    },\n    cart: {cartItems: cartItemsFromStorage, shippingAddress:shippingAddressFromStorage },\n\n}\n\n\nconst addToCart = (state, action) => {\n    const item = action.item\n    console.log(action)\n    const existItem = state.cartItems.find(x => x.product === item._id)\n    \n    if(existItem) {\n        return {\n            ...state,\n            cartItems: state.cartItems.map(e => e.product === existItem._id ? item: e)\n        }\n\n    }else {\n        return {\n            ...state,\n            cartItems:[...state.cartItems, item]\n        }\n    }\n}\n\n\nconst removeFromCart = (state,action) => {\n    return {\n        ...state, \n        cartItems: state.cartItems.filter(e => e.product !== action.payload)\n    }\n}\n\n\nconst saveShippingAddress = (state,action) => {\n    return {\n        ...state, \n        shippingAddress: action.payload\n    }\n}\n\n\n\n\n\n\nconst reducer = (state=initalState, action) => {\n    switch(action.type) {\n        case actionTypes.CART_ADD_ITEM: return addToCart(state, action)\n        case actionTypes.CART_REMOVE_ITEM: return removeFromCart(state, action)\n        case actionTypes.CART_SAVE_SHAPPING_ADDRESS: return saveShippingAddress(state, action)\n        default:\n            return state\n    }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}