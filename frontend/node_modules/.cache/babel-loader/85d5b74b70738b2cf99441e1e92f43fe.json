{"ast":null,"code":"var _jsxFileName = \"/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userEditScrean.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { UserDetail, updateUser } from '../store/actions/user';\nimport FormContainer from '../components/formcontainer';\nimport { USER_UPDATE_ADMIN_REST } from '../store/actions/actionTypes';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserEditScreen = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const userId = match.params.id;\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const dispatch = useDispatch();\n  const userDetaill = useSelector(state => state.user);\n  const {\n    loading,\n    userDetail,\n    error\n  } = userDetaill;\n  const userUpdate = useSelector(state => state.user);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success\n  } = userUpdate;\n  useEffect(() => {\n    if (success) {\n      dispatch({\n        type: USER_UPDATE_ADMIN_REST\n      });\n      history.push('/admin/userlist');\n    } else {\n      if (!userDetail.name || userDetail._id !== userId) {\n        dispatch(UserDetail(userId));\n      } else {\n        setName(userDetail.name);\n        setEmail(userDetail.email);\n        setIsAdmin(userDetail.isAdmin);\n      }\n    }\n  }, [dispatch, history, userId, userDetail, success]);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${userDetaill.userInfo.token}`\n    }\n  };\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    await axios.put(`/api/users/${userId}`, {\n      name,\n      email,\n      isAdmin\n    }, config);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/userlist\",\n      className: \"btn btn-light my-3\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 20\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 40\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Enter name\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Email Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Enter email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"isadmin\",\n        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: \"Is Admin\",\n          checked: isAdmin,\n          onChange: e => setIsAdmin(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserEditScreen, \"uMxuFHKjg/X05Lk1VKQXM/BVAzM=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = UserEditScreen;\nexport default UserEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEditScreen\");","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userEditScrean.js"],"names":["React","useState","useEffect","Link","Form","Button","useDispatch","useSelector","Loader","Message","UserDetail","updateUser","FormContainer","USER_UPDATE_ADMIN_REST","axios","UserEditScreen","match","history","userId","params","id","name","setName","email","setEmail","isAdmin","setIsAdmin","dispatch","userDetaill","state","user","loading","userDetail","error","userUpdate","loadingUpdate","errorUpdate","success","type","push","_id","config","headers","Authorization","userInfo","token","submitHandler","e","preventDefault","put","target","value","checked"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Form, Button} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport {UserDetail, updateUser} from '../store/actions/user'\nimport FormContainer from '../components/formcontainer'\nimport {USER_UPDATE_ADMIN_REST} from '../store/actions/actionTypes'\nimport axios from 'axios'\n\n\nconst UserEditScreen = ({match, history}) => {\n\n    const userId = match.params.id\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [isAdmin, setIsAdmin] = useState(false)\n\n\n\n    const dispatch = useDispatch()\n\n    const userDetaill = useSelector(state => state.user)\n    const {loading, userDetail, error} = userDetaill\n\n\n    const userUpdate = useSelector(state => state.user)\n    const {loading:loadingUpdate, error:errorUpdate, success} = userUpdate\n\n    useEffect(() => {\n\n        if(success) {\n            dispatch({type:USER_UPDATE_ADMIN_REST })\n            history.push('/admin/userlist')\n        }else {\n            if(!userDetail.name ||userDetail._id !== userId) {\n                dispatch(UserDetail(userId))\n            }else {\n                setName(userDetail.name)\n                setEmail(userDetail.email)\n                setIsAdmin(userDetail.isAdmin)\n            }\n        }\n\n       \n        \n\n    }, [dispatch, history ,userId ,userDetail, success ])\n\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${userDetaill.userInfo.token}`\n        },\n    }\n\n    const submitHandler = async (e) => {\n        e.preventDefault()\n        await axios.put(\n            `/api/users/${userId}`, {name, email, isAdmin}, \n            config\n        )\n\n \n    }\n\n    \n\n    return (\n\n        <React.Fragment>\n            <Link to='/admin/userlist'  className=\"btn btn-light my-3\">Go Back</Link>\n        \n        \n        <h1>Edit User</h1>\n        {loading ? <Loader />: error ? <Message variant=\"danger\">{error}</Message>:\n        (\n            <Form onSubmit={submitHandler}>\n            <Form.Group controlId='name'>\n              <Form.Label>Name</Form.Label>\n              <Form.Control\n                type='name'\n                placeholder='Enter name'\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='email'>\n              <Form.Label>Email Address</Form.Label>\n              <Form.Control\n                type='email'\n                placeholder='Enter email'\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='isadmin'>\n              <Form.Check\n                type='checkbox'\n                label='Is Admin'\n                checked={isAdmin}\n                onChange={(e) => setIsAdmin(e.target.checked)}\n              ></Form.Check>\n            </Form.Group>\n\n            <Button type='submit' variant='primary'>\n              Update\n            </Button>\n          </Form>\n    \n        )\n        }\n       \n\n       <FormContainer/>\n        </React.Fragment>\n       \n       \n            \n\n    )\n}\n\nexport default UserEditScreen"]},"metadata":{},"sourceType":"module"}