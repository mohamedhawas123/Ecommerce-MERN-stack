{"ast":null,"code":"import _regeneratorRuntime from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as actionTypes from'./actionTypes';import axios from'axios';var authStart=function authStart(){return{type:actionTypes.USER_LOGIN_START};};var authSucess=function authSucess(token){return{type:actionTypes.USER_LOGIN_SUCESS,token:token};};var authFail=function authFail(error){return{type:actionTypes.USER_LOGIN_FAIL,error:error};};var updateProfile=function updateProfile(payload){return{type:actionTypes.USER_PROFILE_UPDATE_SUCESS,payload:payload};};export var authLogin=function authLogin(email,password){return function(dispatch){dispatch(authStart);axios.post(\"/api/users/login\",{email:email,password:password},{headers:{'Content-Type':'application/json'}}).then(function(res){var token=res.data.token;localStorage.setItem(\"userInfo\",JSON.stringify(res.data));dispatch(authSucess(res.data));}).catch(function(err){dispatch(authFail(err));});};};export var UserDetail=function UserDetail(id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:actionTypes.USER_PROFILE_START});config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(getState().user.userLogin.userInfo.token)}};_context.next=5;return axios.get(\"api/users/\".concat(id),config);case 5:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);dispatch({type:actionTypes.USER_PROFILE_SUCESS,payload:data});_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:actionTypes.USER_PROFILE_FAIL,error:_context.t0});console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var updateUserProfile=function updateUserProfile(name,email,tokenn){return function(dispatch){dispatch(authStart());var config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(tokenn)}};axios.put(\"api/users/profile\",{name:name,email:email},config).then(function(res){console.log(res.data);dispatch(updateProfile(res.data));}).catch(function(err){console.log(err);});};};export var authSignup=function authSignup(name,email,password){return function(dispatch){dispatch(authStart);axios.post(\"/api/users\",{name:name,email:email,password:password},{headers:{'Content-Type':'application/json'}}).then(function(res){var token=res.data.token;localStorage.setItem(\"userInfo\",JSON.stringify(res.data));dispatch(authSucess(token));}).catch(function(err){dispatch(authFail(err));});};};export var logout=function logout(){return function(dispatch){localStorage.removeItem(\"userInfo\");dispatch({type:actionTypes.USER_LOGOUT});dispatch({type:actionTypes.ORDER_GET_REST});dispatch({type:actionTypes.ORDER_LIST_REST});dispatch({type:actionTypes.USER_LIST_REST});};};export var listUser=function listUser(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var config,_yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:actionTypes.USER_LIST_REQUEST});config={headers:{Authorization:\"Bearer \".concat(getState().user.userInfo.token)}};_context2.next=5;return axios.get('/api/users',config);case 5:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;console.log(data);dispatch({type:actionTypes.USER_SUCESS_REQUEST,payload:data});_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:actionTypes.USER_FAIL_REQUEST,error:_context2.t0});console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var deleteUser=function deleteUser(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var config,_yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:actionTypes.USER_DELETE_REQUEST});config={headers:{Authorization:\"Bearer \".concat(getState().user.userInfo.token)}};_context3.next=5;return axios.delete(\"/api/users/\".concat(id),config);case 5:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;console.log(data);dispatch({type:actionTypes.USER_DELETE_SUCCESS,payload:data});_context3.next=15;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);dispatch({type:actionTypes.USER_DELETE_FAIL,error:_context3.t0});console.log(_context3.t0);case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var updateUser=function updateUser(user){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:actionTypes.USER_UPDATE_START});config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(getState().user.userLogin.userInfo.token)}};_context4.next=5;return axios.put(\"/api/users/\".concat(user._id),user,config);case 5:_yield$axios$put=_context4.sent;data=_yield$axios$put.data;console.log(data);dispatch({type:actionTypes.USER_UPDATE_SUCCESS,payload:data});_context4.next=15;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);dispatch({type:actionTypes.USER_UPDATE_FAIL,error:_context4.t0});console.log(_context4.t0);case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};// try {\n//     dispatch({\n//         type: actionTypes.USER_PROFILE_UPDATE_START \n//     })\n//     const config = {\n//         headers: {\n//             'Content-Type': 'application/json',\n//             Authorization: `Bearer ${getState().user.userLogin.userInfo.token}`\n//         },\n//     }\n//     const {data} = await axios.put(\n//         `api/users/profile`, user, config)\n//     console.log(data)\n//     dispatch({\n//         type:actionTypes.USER_PROFILE_UPDATE_SUCESS,\n//         payload: data\n//     })\n// } catch (error) {\n//     dispatch({\n//         type: actionTypes.USER_PROFILE_UPDATE_FAIL,\n//         error: error\n//     })\n//     console.log(error)\n// }","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/store/actions/user.js"],"names":["actionTypes","axios","authStart","type","USER_LOGIN_START","authSucess","token","USER_LOGIN_SUCESS","authFail","error","USER_LOGIN_FAIL","updateProfile","payload","USER_PROFILE_UPDATE_SUCESS","authLogin","email","password","dispatch","post","headers","then","res","data","localStorage","setItem","JSON","stringify","catch","err","UserDetail","id","getState","USER_PROFILE_START","config","Authorization","user","userLogin","userInfo","get","console","log","USER_PROFILE_SUCESS","USER_PROFILE_FAIL","updateUserProfile","name","tokenn","put","authSignup","logout","removeItem","USER_LOGOUT","ORDER_GET_REST","ORDER_LIST_REST","USER_LIST_REST","listUser","USER_LIST_REQUEST","USER_SUCESS_REQUEST","USER_FAIL_REQUEST","deleteUser","USER_DELETE_REQUEST","delete","USER_DELETE_SUCCESS","USER_DELETE_FAIL","updateUser","USER_UPDATE_START","_id","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes'\nimport axios from 'axios'\n\n\nconst authStart = () => {\n    return {\n        type: actionTypes.USER_LOGIN_START\n    }\n}\n\nconst authSucess = (token) => {\n    return {\n        type: actionTypes.USER_LOGIN_SUCESS,\n        token: token\n    }\n}\n\n\nconst authFail = (error) => {\n    return {\n        type: actionTypes.USER_LOGIN_FAIL,\n        error: error\n    }\n}\n\n\nconst updateProfile = (payload) => {\n    return {\n        type: actionTypes.USER_PROFILE_UPDATE_SUCESS,\n        payload: payload\n    }\n}\n\n\n\nexport const authLogin = (email, password) => {\n    return dispatch => {\n        dispatch(authStart)\n        axios.post(`/api/users/login`, {\n            email: email,\n            password: password\n        },{\n            headers:{'Content-Type': 'application/json'}\n        })\n        .then(res => {\n            const token = res.data.token\n            localStorage.setItem(\"userInfo\", JSON.stringify(res.data))\n            dispatch(authSucess(res.data))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n    }\n}\n\n\nexport const UserDetail = (id) =>  async (dispatch, getState) => {\n    \n    try {\n        dispatch({\n            type: actionTypes.USER_PROFILE_START\n        })\n    \n        \n    \n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${getState().user.userLogin.userInfo.token}`\n            },\n        }\n    \n        const {data} = await axios.get(`api/users/${id}`, config)\n\n        console.log(data)\n    \n        dispatch({\n            type:actionTypes.USER_PROFILE_SUCESS,\n            payload: data\n        })\n    \n    } catch (error) {\n        dispatch({\n            type: actionTypes.USER_PROFILE_FAIL,\n            error: error\n        })\n\n        console.log(error)\n\n    }\n    \n\n}\n\n\n\nexport const updateUserProfile = (name, email, tokenn) => {\n    \n    return dispatch => {\n        dispatch(authStart())\n        const config = {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Authorization: `Bearer ${tokenn}`\n                    },\n                }\n       axios.put(`api/users/profile`, {\n            name:name,\n            email:email\n        }, config)\n        .then(res => {\n            console.log(res.data)\n            dispatch(updateProfile(res.data))\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n    \n\n    \n\n}\n\n\n\n\n\nexport const authSignup = (name, email, password) => {\n    return dispatch => {\n        dispatch(authStart)\n        axios.post(`/api/users`, {\n            name: name,\n            email: email,\n            password: password\n        },{\n            headers:{'Content-Type': 'application/json'}\n        })\n        .then(res => {\n            const token = res.data.token\n            localStorage.setItem(\"userInfo\", JSON.stringify(res.data))\n            dispatch(authSucess(token))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n    }\n}\n\nexport const  logout = () => (dispatch) => {\n\n    localStorage.removeItem(\"userInfo\")\n\n    dispatch ({type: actionTypes.USER_LOGOUT})\n    dispatch ({type: actionTypes.ORDER_GET_REST})\n    dispatch ({type: actionTypes.ORDER_LIST_REST})\n    dispatch ({type: actionTypes.USER_LIST_REST})\n}\n\n\n\n\nexport const listUser = () =>  async (dispatch, getState) => {\n    \n    try {\n        dispatch({\n            type: actionTypes.USER_LIST_REQUEST\n        })\n    \n        \n    \n        const config = {\n            headers: {\n            \n                Authorization: `Bearer ${getState().user.userInfo.token}`\n            },\n        }\n    \n        const {data} = await axios.get(\n            '/api/users',\n            config\n        )\n\n        console.log(data)\n    \n        dispatch({\n            type:actionTypes.USER_SUCESS_REQUEST,\n            payload: data\n        })\n    \n    } catch (error) {\n        dispatch({\n            type: actionTypes.USER_FAIL_REQUEST,\n            error: error\n        })\n\n        console.log(error)\n\n    }\n    \n\n}\n\n\nexport const deleteUser = (id) =>  async (dispatch, getState) => {\n    \n    try {\n        dispatch({\n            type: actionTypes.USER_DELETE_REQUEST\n        })\n    \n        \n    \n        const config = {\n            headers: {\n            \n                Authorization: `Bearer ${getState().user.userInfo.token}`\n            },\n        }\n    \n        const {data} = await axios.delete(\n            `/api/users/${id}`,\n            config\n        )\n\n        console.log(data)\n    \n         dispatch({\n            type:actionTypes.USER_DELETE_SUCCESS,\n            payload: data\n        })\n    \n    } catch (error) {\n        dispatch({\n            type: actionTypes.USER_DELETE_FAIL,\n            error: error\n        })\n\n        console.log(error)\n\n    }\n    \n\n}\n\n\n\nexport const updateUser = (user) =>  async (dispatch, getState) => {\n    \n    try {\n        dispatch({\n            type: actionTypes.USER_UPDATE_START\n        })\n    \n        \n    \n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${getState().user.userLogin.userInfo.token}`\n            },\n        }\n    \n        const {data} = await axios.put(\n            `/api/users/${user._id}`, user, \n            config\n        )\n\n        console.log(data)\n    \n         dispatch({\n            type:actionTypes.USER_UPDATE_SUCCESS,\n            payload: data\n        })\n    \n    } catch (error) {\n        dispatch({\n            type: actionTypes.USER_UPDATE_FAIL,\n            error: error\n        })\n\n        console.log(error)\n\n    }\n    \n\n}\n\n\n\n\n// try {\n    //     dispatch({\n    //         type: actionTypes.USER_PROFILE_UPDATE_START \n    //     })\n    \n       \n    //     const config = {\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //             Authorization: `Bearer ${getState().user.userLogin.userInfo.token}`\n    //         },\n    //     }\n    \n    //     const {data} = await axios.put(\n    //         `api/users/profile`, user, config)\n\n    //     console.log(data)\n    \n    //     dispatch({\n    //         type:actionTypes.USER_PROFILE_UPDATE_SUCESS,\n    //         payload: data\n    //     })\n    \n    // } catch (error) {\n    //     dispatch({\n    //         type: actionTypes.USER_PROFILE_UPDATE_FAIL,\n    //         error: error\n    //     })\n\n    //     console.log(error)\n\n    // }\n    "]},"metadata":{},"sourceType":"module"}