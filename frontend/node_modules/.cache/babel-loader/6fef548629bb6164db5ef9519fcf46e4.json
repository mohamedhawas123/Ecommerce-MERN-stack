{"ast":null,"code":"var _jsxFileName = \"/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userEditScrean.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { UserDetail, updateUser } from '../store/actions/user';\nimport FormContainer from '../components/formcontainer';\nimport { USER_UPDATE_ADMIN_REST } from '../store/actions/actionTypes';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserEditScreen = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const userId = match.params.id;\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const dispatch = useDispatch();\n  const userDetaill = useSelector(state => state.user);\n  const {\n    loading,\n    userDetail,\n    error\n  } = userDetaill;\n  const userUpdate = useSelector(state => state.user);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success\n  } = userUpdate;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${userDetaill.userInfo.token}`\n    }\n  };\n  useEffect(() => {\n    if (success) {\n      dispatch({\n        type: USER_UPDATE_ADMIN_REST\n      });\n      history.push('/admin/userlist');\n    } else {\n      axios.get(`/api/users/${userId}`, config).then(res => {\n        setName = res.data.name;\n        setEmail = res.data.email, setIsAdmin = res.data.isAdmin;\n      });\n    }\n  }, [dispatch, history, userId, userDetail, success]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(updateUser({\n      _id: userId,\n      name,\n      email,\n      isAdmin\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/userlist\",\n      className: \"btn btn-light my-3\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 20\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 40\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Enter name\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Email Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Enter email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"isadmin\",\n        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          lable: \"Is Admin\",\n          checked: isAdmin,\n          onChange: e => setIsAdmin(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserEditScreen, \"uMxuFHKjg/X05Lk1VKQXM/BVAzM=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = UserEditScreen;\nexport default UserEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEditScreen\");","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userEditScrean.js"],"names":["React","useState","useEffect","Link","Form","Button","useDispatch","useSelector","Loader","Message","UserDetail","updateUser","FormContainer","USER_UPDATE_ADMIN_REST","axios","UserEditScreen","match","history","userId","params","id","name","setName","email","setEmail","isAdmin","setIsAdmin","dispatch","userDetaill","state","user","loading","userDetail","error","userUpdate","loadingUpdate","errorUpdate","success","config","headers","Authorization","userInfo","token","type","push","get","then","res","data","submitHandler","e","preventDefault","_id","target","value","checked"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Form, Button} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport {UserDetail, updateUser} from '../store/actions/user'\nimport FormContainer from '../components/formcontainer'\nimport {USER_UPDATE_ADMIN_REST} from '../store/actions/actionTypes'\nimport axios from 'axios'\n\n\nconst UserEditScreen = ({match, history}) => {\n\n    const userId = match.params.id\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [isAdmin, setIsAdmin] = useState(false)\n\n\n\n    const dispatch = useDispatch()\n\n    const userDetaill = useSelector(state => state.user)\n    const {loading, userDetail, error} = userDetaill\n\n\n    const userUpdate = useSelector(state => state.user)\n    const {loading:loadingUpdate, error:errorUpdate, success} = userUpdate\n\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${userDetaill.userInfo.token}`\n        },\n    }\n\n    useEffect(() => {\n\n        if(success) {\n            dispatch({type:USER_UPDATE_ADMIN_REST })\n            history.push('/admin/userlist')\n        }else {\n            \n                axios.get(`/api/users/${userId}`, config)\n                .then(res => {\n                    setName = res.data.name\n                    setEmail = res.data.email,\n                    setIsAdmin = res.data.isAdmin\n                })\n            \n        }\n\n       \n        \n\n    }, [dispatch, history ,userId ,userDetail, success ])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        dispatch(updateUser({\n            _id:userId,\n            name,email,isAdmin\n        }))\n\n \n    }\n\n\n    return (\n\n        <React.Fragment>\n            <Link to='/admin/userlist'  className=\"btn btn-light my-3\">Go Back</Link>\n        \n        \n        <h1>Edit User</h1>\n        {loading ? <Loader />: error ? <Message variant=\"danger\">{error}</Message>:\n        (\n            <Form onSubmit={submitHandler}>\n\n            <Form.Group controlId=\"name\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control\n                     type=\"name\"\n                      placeholder=\"Enter name\"\n                      value={name}\n                    onChange={(e)=> setName(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n    \n                <Form.Group controlId=\"email\">\n                    <Form.Label>Email Address</Form.Label>\n                    <Form.Control\n                     type=\"email\"\n                      placeholder=\"Enter email\"\n                      value={email}\n                    onChange={(e)=> setEmail(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n                <Form.Group controlId=\"isadmin\">\n                \n                    <Form.Check\n                     type=\"checkbox\"\n                      lable=\"Is Admin\"\n                      \n                      checked={isAdmin}\n                    onChange={(e)=> setIsAdmin(e.target.checked) }>\n    \n                    </Form.Check>\n                </Form.Group>\n    \n                <Button type=\"submit\" variant=\"primary\">\n                    Update\n                </Button>\n    \n    \n            </Form>\n    \n        )\n        }\n       \n\n       <FormContainer/>\n        </React.Fragment>\n       \n       \n            \n\n    )\n}\n\nexport default UserEditScreen"]},"metadata":{},"sourceType":"module"}