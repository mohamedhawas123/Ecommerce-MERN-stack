{"ast":null,"code":"import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../utilty';\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\nconst initalState = {\n  cartItems: [],\n  cart: {\n    cartItems: cartItemsFromStorage\n  }\n};\n\nconst addToCart = (state, action) => {\n  const item = action.item;\n  const existItem = state.cartItems.find(x => x.product === item.product);\n\n  if (existItem) {\n    return { ...state,\n      cartItems: state.cartItems.map(e => e.product === existItem.product ? item : e)\n    };\n  } else {\n    return { ...state,\n      cartItems: [...state.cartItems.item]\n    };\n  }\n};\n\nconst reducer = (state = initalState, action) => {\n  switch (action.type) {\n    case actionTypes.CART_ADD_ITEM:\n      return addToCart(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/store/reducer/cart.js"],"names":["actionTypes","updateObject","cartItemsFromStorage","localStorage","getItem","JSON","parse","initalState","cartItems","cart","addToCart","state","action","item","existItem","find","x","product","map","e","reducer","type","CART_ADD_ITEM"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AACA,SAAQC,YAAR,QAA2B,WAA3B;AAGA,MAAMC,oBAAoB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAqCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAArC,GAAoF,EAAjH;AAGA,MAAMG,WAAW,GAAG;AAChBC,EAAAA,SAAS,EAAG,EADI;AAEhBC,EAAAA,IAAI,EAAE;AAACD,IAAAA,SAAS,EAAEN;AAAZ;AAFU,CAApB;;AAMA,MAAMQ,SAAS,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,QAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;AACA,QAAMC,SAAS,GAAGH,KAAK,CAACH,SAAN,CAAgBO,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcJ,IAAI,CAACI,OAA7C,CAAlB;;AAEA,MAAGH,SAAH,EAAc;AACV,WAAO,EACH,GAAGH,KADA;AAEHH,MAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBU,GAAhB,CAAoBC,CAAC,IAAIA,CAAC,CAACF,OAAF,KAAcH,SAAS,CAACG,OAAxB,GAAkCJ,IAAlC,GAAwCM,CAAjE;AAFR,KAAP;AAKH,GAND,MAMM;AACF,WAAO,EACH,GAAGR,KADA;AAEHH,MAAAA,SAAS,EAAC,CAAC,GAAGG,KAAK,CAACH,SAAN,CAAiBK,IAArB;AAFP,KAAP;AAIH;AACJ,CAhBD;;AAmBA,MAAMO,OAAO,GAAG,CAACT,KAAK,GAACJ,WAAP,EAAoBK,MAApB,KAA+B;AAC3C,UAAOA,MAAM,CAACS,IAAd;AACI,SAAKrB,WAAW,CAACsB,aAAjB;AAAgC,aAAOZ,SAAS,CAACC,KAAD,EAAQC,MAAR,CAAhB;;AAChC;AACI,aAAOD,KAAP;AAHR;AAKH,CAND;;AAQA,eAAeS,OAAf","sourcesContent":["import * as actionTypes from '../actions/actionTypes'\nimport {updateObject} from '../utilty'\n\n\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\")  ? JSON.parse(localStorage.getItem(\"cartItems\")): [] \n\n\nconst initalState = {\n    cartItems : [],\n    cart: {cartItems: cartItemsFromStorage}\n}\n\n\nconst addToCart = (state, action) => {\n    const item = action.item\n    const existItem = state.cartItems.find(x => x.product === item.product)\n    \n    if(existItem) {\n        return {\n            ...state,\n            cartItems: state.cartItems.map(e => e.product === existItem.product ? item: e)\n        }\n\n    }else {\n        return {\n            ...state,\n            cartItems:[...state.cartItems. item]\n        }\n    }\n}\n\n\nconst reducer = (state=initalState, action) => {\n    switch(action.type) {\n        case actionTypes.CART_ADD_ITEM: return addToCart(state, action)\n        default:\n            return state\n    }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}