{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from 'axios';\n\nconst authStart = () => {\n  return {\n    type: actionTypes.USER_LOGIN_START\n  };\n};\n\nconst authSucess = token => {\n  return {\n    type: actionTypes.USER_LOGIN_SUCESS,\n    token: token\n  };\n};\n\nconst authFail = error => {\n  return {\n    type: actionTypes.USER_LOGIN_FAIL,\n    error: error\n  };\n};\n\nexport const authLogin = (email, password) => {\n  return dispatch => {\n    dispatch(authStart);\n    axios.post(`/api/users/login`, {\n      email: email,\n      password: password\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      const token = res.data.token;\n      localStorage.setItem(\"userInfo\", res.data);\n      dispatch(authSucess(res.data));\n    }).catch(err => {\n      dispatch(authFail(err));\n    });\n  };\n};\nexport const authSignup = (name, email, password) => {\n  return dispatch => {\n    dispatch(authStart);\n    axios.post(`/api/users`, {\n      name: name,\n      email: email,\n      password: password\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      const token = res.data.token;\n      localStorage.setItem(\"userInfo\", res.data);\n      dispatch(authSucess(token));\n    }).catch(err => {\n      dispatch(authFail(err));\n    });\n  };\n};","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/store/actions/user.js"],"names":["actionTypes","axios","authStart","type","USER_LOGIN_START","authSucess","token","USER_LOGIN_SUCESS","authFail","error","USER_LOGIN_FAIL","authLogin","email","password","dispatch","post","headers","then","res","data","localStorage","setItem","catch","err","authSignup","name"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,SAAS,GAAG,MAAM;AACpB,SAAO;AACHC,IAAAA,IAAI,EAAEH,WAAW,CAACI;AADf,GAAP;AAGH,CAJD;;AAMA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1B,SAAO;AACHH,IAAAA,IAAI,EAAEH,WAAW,CAACO,iBADf;AAEHD,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALD;;AAQA,MAAME,QAAQ,GAAIC,KAAD,IAAW;AACxB,SAAO;AACHN,IAAAA,IAAI,EAAEH,WAAW,CAACU,eADf;AAEHD,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALD;;AAQA,OAAO,MAAME,SAAS,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC1C,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACZ,SAAD,CAAR;AACAD,IAAAA,KAAK,CAACc,IAAN,CAAY,kBAAZ,EAA+B;AAC3BH,MAAAA,KAAK,EAAEA,KADoB;AAE3BC,MAAAA,QAAQ,EAAEA;AAFiB,KAA/B,EAGE;AACEG,MAAAA,OAAO,EAAC;AAAC,wBAAgB;AAAjB;AADV,KAHF,EAMCC,IAND,CAMMC,GAAG,IAAI;AACT,YAAMZ,KAAK,GAAGY,GAAG,CAACC,IAAJ,CAASb,KAAvB;AACAc,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,GAAG,CAACC,IAArC;AACAL,MAAAA,QAAQ,CAACT,UAAU,CAACa,GAAG,CAACC,IAAL,CAAX,CAAR;AACH,KAVD,EAWCG,KAXD,CAWOC,GAAG,IAAI;AACVT,MAAAA,QAAQ,CAACN,QAAQ,CAACe,GAAD,CAAT,CAAR;AACH,KAbD;AAcH,GAhBD;AAiBH,CAlBM;AAsBP,OAAO,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAOb,KAAP,EAAcC,QAAd,KAA2B;AACjD,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACZ,SAAD,CAAR;AACAD,IAAAA,KAAK,CAACc,IAAN,CAAY,YAAZ,EAAyB;AACrBU,MAAAA,IAAI,EAAEA,IADe;AAErBb,MAAAA,KAAK,EAAEA,KAFc;AAGrBC,MAAAA,QAAQ,EAAEA;AAHW,KAAzB,EAIE;AACEG,MAAAA,OAAO,EAAC;AAAC,wBAAgB;AAAjB;AADV,KAJF,EAOCC,IAPD,CAOMC,GAAG,IAAI;AACT,YAAMZ,KAAK,GAAGY,GAAG,CAACC,IAAJ,CAASb,KAAvB;AACAc,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,GAAG,CAACC,IAArC;AACAL,MAAAA,QAAQ,CAACT,UAAU,CAACC,KAAD,CAAX,CAAR;AACH,KAXD,EAYCgB,KAZD,CAYOC,GAAG,IAAI;AACVT,MAAAA,QAAQ,CAACN,QAAQ,CAACe,GAAD,CAAT,CAAR;AACH,KAdD;AAeH,GAjBD;AAkBH,CAnBM","sourcesContent":["import * as actionTypes from './actionTypes'\nimport axios from 'axios'\n\n\nconst authStart = () => {\n    return {\n        type: actionTypes.USER_LOGIN_START\n    }\n}\n\nconst authSucess = (token) => {\n    return {\n        type: actionTypes.USER_LOGIN_SUCESS,\n        token: token\n    }\n}\n\n\nconst authFail = (error) => {\n    return {\n        type: actionTypes.USER_LOGIN_FAIL,\n        error: error\n    }\n}\n\n\nexport const authLogin = (email, password) => {\n    return dispatch => {\n        dispatch(authStart)\n        axios.post(`/api/users/login`, {\n            email: email,\n            password: password\n        },{\n            headers:{'Content-Type': 'application/json'}\n        })\n        .then(res => {\n            const token = res.data.token\n            localStorage.setItem(\"userInfo\", res.data)\n            dispatch(authSucess(res.data))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n    }\n}\n\n\n\nexport const authSignup = (name, email, password) => {\n    return dispatch => {\n        dispatch(authStart)\n        axios.post(`/api/users`, {\n            name: name,\n            email: email,\n            password: password\n        },{\n            headers:{'Content-Type': 'application/json'}\n        })\n        .then(res => {\n            const token = res.data.token\n            localStorage.setItem(\"userInfo\", res.data)\n            dispatch(authSucess(token))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}