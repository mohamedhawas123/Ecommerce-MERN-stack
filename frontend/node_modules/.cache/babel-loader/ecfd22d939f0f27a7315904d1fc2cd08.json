{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Form,Button,Table}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Message from'../components/Message';import{Link}from'react-router-dom';import Loader from'../components/Loader';import{listUser,deleteUser}from'../store/actions/user';import{LinkContainer}from'react-router-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserListScrean=function UserListScrean(_ref){var history=_ref.history;var dispatch=useDispatch();var userList=useSelector(function(state){return state.user;});var loading=userList.loading,error=userList.error,users=userList.users;var userLogin=useSelector(function(state){return state.user;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.user;});var success=userDelete.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUser());}else{history.push('/login ');}},[dispatch,history,success,userInfo]);var deleteHandlee=function deleteHandlee(id){if(window.confirm(\"Are you sure\")){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"E-MAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(user.email),children:user.email})}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"user/\".concat(user._id,\"/edit/\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandlee(user._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id);})})]})]});};export default UserListScrean;","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/userListScreen.js"],"names":["React","useEffect","useState","Form","Button","Table","useDispatch","useSelector","Message","Link","Loader","listUser","deleteUser","LinkContainer","UserListScrean","history","dispatch","userList","state","user","loading","error","users","userLogin","userInfo","userDelete","success","isAdmin","push","deleteHandlee","id","window","confirm","map","name","email","color","_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {Form, Button, Table} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Message from '../components/Message'\nimport {Link} from 'react-router-dom'\nimport Loader  from '../components/Loader'\nimport {listUser, deleteUser} from '../store/actions/user'\nimport {LinkContainer} from 'react-router-bootstrap'\n\n\nconst UserListScrean = ({history}) => {\n\n    const dispatch = useDispatch()\n\n    const userList = useSelector(state => state.user)\n    const {loading, error, users} = userList\n\n    const userLogin = useSelector( (state) => state.user )\n    const {userInfo} = userLogin\n\n\n    const userDelete = useSelector((state) => state.user)\n    const {success} = userDelete\n\n\n    useEffect( () => {\n        if(userInfo && userInfo.isAdmin) {\n            dispatch(listUser())\n        }else {\n            history.push('/login ')\n        }\n        \n    }, [dispatch, history, success, userInfo])\n\n\n    const deleteHandlee = (id) => {\n        if(window.confirm(\"Are you sure\")) {\n            dispatch(deleteUser(id))\n        }\n        \n    }\n\n    return (\n        <div>\n            <h1>Users</h1>\n            {loading ? <Loader />: error ? <Message variant=\"danger\">{error}</Message>: (\n                <Table striped bordered hover responsive className=\"table-sm\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>NAME</th>\n                            <th>E-MAIL</th>\n                            <th>Admin</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {users.map(user => (\n                            <tr key={user._id}>\n                                <td>{user.name}</td>\n                                <td>\n                                    <a href={`mailto:${user.email}`}>{user.email}</a>\n                                </td>\n                                \n                                <td>\n                                    {user.isAdmin ? (\n                                        <i className=\"fas fa-check\" style={{color:'green'}}></i>\n                                    ): (\n                                        <i className=\"fas fa-times\" style={{color: 'red'}}></i>\n                                    )}\n                                </td>\n\n                                <td>\n                                    <LinkContainer to={`user/${user._id}/edit/`}>\n                                        <Button variant=\"light\" className=\"btn-sm\">\n                                            <i className=\"fas fa-edit\"></i>\n                                        </Button>\n                                    </LinkContainer>\n\n                                    \n\n                                        <Button variant=\"danger\" className=\"btn-sm\"\n                                        onClick={() => deleteHandlee(user._id)}>\n                                            <i className=\"fas fa-trash\"></i>\n                                            </Button>\n\n                                </td>\n\n                            </tr>\n                        ))}\n                    </tbody>\n\n                </Table>\n            )}\n        </div>\n    )\n}\n\nexport default UserListScrean"]},"metadata":{},"sourceType":"module"}