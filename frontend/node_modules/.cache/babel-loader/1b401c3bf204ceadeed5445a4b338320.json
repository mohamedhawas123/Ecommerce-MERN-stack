{"ast":null,"code":"import _regeneratorRuntime from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/metro/Desktop/projects/ecom-mern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Form,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{productDetail,updateProduct}from'../store/actions/productlist';import FormContainer from'../components/formcontainer';import{PRODUCT_UPDATE_REST}from'../store/actions/actionTypes';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductEditScreen=function ProductEditScreen(_ref){var match=_ref.match,history=_ref.history;var productId=match.params.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),brand=_useState6[0],setBrand=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),countInStock=_useState12[0],setCountInStack=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),description=_useState14[0],setDescriptopn=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),uploading=_useState16[0],setUploading=_useState16[1];var dispatch=useDispatch();var userDetaill=useSelector(function(state){return state.Product;});var loading=userDetaill.loading,product=userDetaill.product,error=userDetaill.error;var userDetaille=useSelector(function(state){return state.Product;});var loadingUpdate=userDetaille.loading,success=userDetaille.success,errorUpdate=userDetaille.error;useEffect(function(){if(success){dispatch({type:PRODUCT_UPDATE_REST});history.push('/admin/productlist');}else{if(!product.name){dispatch(productDetail(productId));}else{setName(product.name);setPrice(product.price);setBrand(product.brand);setImage(product.image);setCategory(product.category);setCountInStack(product.countInStock);setDescriptopn(product.description);}}},[product,dispatch,history,productId,success]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateProduct({_id:productId,name:name,price:price,image:image,brand:brand,category:category,description:description,countInStock:countInStock}));history.push('/admin/productlist');};var uploadFileHandle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var file,formData,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=e.target.files[0];formData=new FormData();formData.append('image',file);setUploading(true);_context.prev=4;config={headers:{'Content-Type':'multipart/form-data'}};_context.next=8;return axios.post('/api/upload',formData,config);case 8:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);setImage(data);setUploading(false);_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](4);console.log(_context.t0);setUploading(false);case 19:case\"end\":return _context.stop();}}},_callee,null,[[4,15]]);}));return function uploadFileHandle(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/productlist\",className:\"btn btn-light my-3\",children:\"Go Back\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Product\"}),loadingUpdate&&/*#__PURE__*/_jsx(Loader,{}),errorUpdate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorUpdate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"price\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Enter price\",value:price,onChange:function onChange(e){return setPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"image\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Image  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Image Url\",value:image,onChange:function onChange(e){return setImage(e.target.value);}}),/*#__PURE__*/_jsx(Form.File,{id:\"image-file\",label:\"Choose File\",custom:true,onChange:uploadFileHandle}),uploading&&/*#__PURE__*/_jsx(Loader,{})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"brand\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Brand  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter brand \",value:brand,onChange:function onChange(e){return setBrand(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"countInStack\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"countInStack  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"countInStock \",value:countInStock,onChange:function onChange(e){return setCountInStack(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"price\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"price \",value:price,onChange:function onChange(e){return setPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"category\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"category \",value:category,onChange:function onChange(e){return setCategory(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"descriptopn\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Descriptopn  \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"descriptopn \",value:description,onChange:function onChange(e){return setDescriptopn(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Update\"})]}),/*#__PURE__*/_jsx(FormContainer,{})]});};export default ProductEditScreen;","map":{"version":3,"sources":["/home/metro/Desktop/projects/ecom-mern/frontend/src/screens/productEditScreen.js"],"names":["React","useState","useEffect","Link","Form","Button","useDispatch","useSelector","Loader","Message","productDetail","updateProduct","FormContainer","PRODUCT_UPDATE_REST","axios","ProductEditScreen","match","history","productId","params","id","name","setName","price","setPrice","brand","setBrand","image","setImage","category","setCategory","countInStock","setCountInStack","description","setDescriptopn","uploading","setUploading","dispatch","userDetaill","state","Product","loading","product","error","userDetaille","loadingUpdate","success","errorUpdate","type","push","submitHandler","e","preventDefault","_id","uploadFileHandle","file","target","files","formData","FormData","append","config","headers","post","data","console","log","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Form, Button} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport {productDetail, updateProduct} from '../store/actions/productlist'\nimport FormContainer from '../components/formcontainer'\nimport {PRODUCT_UPDATE_REST} from '../store/actions/actionTypes'\nimport axios from 'axios'\n\n\n\n\nconst ProductEditScreen = ({match, history}) => {\n\n    const productId = match.params.id\n\n    const [name, setName] = useState('')\n    const [price, setPrice] = useState(0)\n    const [brand, setBrand] = useState('')\n    const [image, setImage] = useState('')\n    const [category, setCategory] = useState('')\n    const [countInStock, setCountInStack] = useState(0)\n    const [description, setDescriptopn] = useState('')\n    const [uploading, setUploading] = useState(false)\n\n\n\n\n\n\n    const dispatch = useDispatch()\n\n    const userDetaill = useSelector(state => state.Product)\n    const {loading, product, error} = userDetaill\n    \n\n    const userDetaille = useSelector(state => state.Product)\n    const {loading:loadingUpdate, success, error:errorUpdate} = userDetaille\n\n\n    \n\n    useEffect(() => {\n\n        if(success) {\n            dispatch({type:PRODUCT_UPDATE_REST})\n            history.push('/admin/productlist')\n        }else {\n            if(!product.name ) {\n                dispatch(productDetail(productId))\n     \n            }else {\n             setName(product.name)\n             setPrice(product.price)\n             setBrand(product.brand)\n             setImage(product.image)\n             setCategory(product.category)\n             setCountInStack(product.countInStock)\n             setDescriptopn(product.description)\n     \n            }\n        }\n\n      \n       \n        \n\n    }, [product, dispatch ,history ,productId ,success ])\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        dispatch(updateProduct({\n            _id:productId,\n            name,\n            price,\n            image,\n            brand,\n            category,\n            description,\n            countInStock\n        }))\n        history.push('/admin/productlist')\n\n \n    }\n\n    const uploadFileHandle = async (e) =>  {\n        const file  =  e.target.files[0]\n        const formData = new FormData()\n        formData.append('image', file)\n        setUploading(true)\n\n        try {\n            const config = {\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                }\n            }\n            const {data} = await axios.post('/api/upload', formData, config)\n            console.log(data)\n\n            setImage(data)\n            setUploading(false)\n\n        }catch(error) {\n            console.log(error)\n            setUploading(false)\n\n\n        } \n    }\n\n   \n\n    return (\n\n        <React.Fragment>\n            <Link to='/admin/productlist'  className=\"btn btn-light my-3\">Go Back</Link>\n        \n        \n        <h1>Edit Product</h1>\n        {loadingUpdate && <Loader />}\n        {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n        {loading ? <Loader />: error ? <Message variant=\"danger\">{error}</Message>:\n        (\n            <Form onSubmit={submitHandler}>\n\n            <Form.Group controlId=\"name\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control\n                     type=\"name\"\n                      placeholder=\"Enter name\"\n                      value={name}\n                    onChange={(e)=> setName(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n    \n                <Form.Group controlId=\"price\">\n                    <Form.Label>Price </Form.Label>\n                    <Form.Control\n                     type=\"number\"\n                      placeholder=\"Enter price\"\n                      value={price}\n                    onChange={(e)=> setPrice(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n    \n                <Form.Group controlId=\"image\">\n                \n                <Form.Label>Image  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"Enter Image Url\"\n                      value={image}\n                    onChange={(e)=> setImage(e.target.value) }>\n                    </Form.Control>\n\n                    <Form.File\n                     id=\"image-file\"\n                      label=\"Choose File\"\n                      custom\n                      onChange = {uploadFileHandle}></Form.File>\n\n                      {uploading && <Loader />}\n\n                </Form.Group>\n\n\n                <Form.Group controlId=\"brand\">\n                \n                <Form.Label>Brand  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"Enter brand \"\n                      value={brand}\n                    onChange={(e)=> setBrand(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n\n\n                <Form.Group controlId=\"countInStack\">\n                \n                <Form.Label>countInStack  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"countInStock \"\n                      value={countInStock}\n                    onChange={(e)=> setCountInStack(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n\n\n                <Form.Group controlId=\"price\">\n                \n                <Form.Label>Price  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"price \"\n                      value={price}\n                    onChange={(e)=> setPrice(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n\n                <Form.Group controlId=\"category\">\n                \n                <Form.Label>Category  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"category \"\n                      value={category}\n                    onChange={(e)=> setCategory(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n\n\n                <Form.Group controlId=\"descriptopn\">\n                \n                <Form.Label>Descriptopn  </Form.Label>\n                    <Form.Control\n                     type=\"text\"\n                      placeholder=\"descriptopn \"\n                      value={description}\n                    onChange={(e)=> setDescriptopn(e.target.value) }>\n    \n                    </Form.Control>\n                </Form.Group>\n                \n                <Button type=\"submit\" variant=\"primary\">\n                    Update\n                </Button>\n    \n    \n            </Form>\n    \n        )\n        }\n       \n\n       <FormContainer/>\n        </React.Fragment>\n       \n       \n            \n\n    )\n}\n\nexport default ProductEditScreen"]},"metadata":{},"sourceType":"module"}